<div ng-init="initProject()">
    <header>
        <div ng-show="bar.visible">
            <form class="form-inline well" role="form">
                <div class="form-group">
                    <label class="" for="name">Project name:</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter Project Name ..."
                           ng-model="screenMetaData.projectName">
                </div>
                <div class="form-group">
                    <label for="path" class="">Path:</label>
                    <input type="text" class="form-control col-lg-5" id="path" placeholder="Enter path"
                           ng-model="screenMetaData.absPath" disabled>
                </div>
                <div class="form-group">
                    <label for="landing" class="">Landing Page:</label>
                    <select ng-options="screen.name for screen in screens" ng-model="landingScreen" id="landing"
                            class="form-control"></select>
                </div>
                <div class="form-group">
                    <button class="btn btn-default" ng-click="refresh()">
                        Refresh
                    </button>
                </div>
            </form>
            <div class="screen-list">
                <div ng-repeat="screen in screens" class="screens">
                    <div class="screen">

                        <input type="radio" ng-model="$parent.selectedId" ng-value="screen.id"
                               ng-change="loadScreen()"/>

                        <input type="checkbox" ng-model="linkMaps[screen.id]" ng-if="showLinkCheckbox(screen.id)"/>

                        <div class="image">
                            <img ng-src="{{ screenMetaData.absPath }}/images/{{ screen.fileName }}" alt=""
                                 style="width: 300px"/>
                            <span class="name">{{ screen.name }}</span>
                        </div>
                        <span class="count" ng-if="linksCount(screen)>0">{{ linksCount(screen) }}</span>
                    </div>

                </div>
            </div>

        </div>

        <div class="bar" ng-click="toggleScreens()">
            {{ bar.label }}
        </div>
    </header>

    <div class="selected-screen" id="{{ selectedId }}" ng-if="selectedId">
        <img ng-src="{{ screenMetaData.absPath }}/images/{{ selectedFileName }}"/>

        <div ng-repeat="link in links"
             style="top:{{ link.top }}px; left:{{ link.left }}px; width:{{ link.width }}px; height:{{ link.height }}px; position:absolute"
             class="link" id="{{ link.target.id }}" draggable resizable data-draggable-handle="span.handle"
             data-draggable-containment="div.selected-screen">
        <span class="handle">{{ link.target.name }} &nbsp; <i
                class="fa fa-arrow-right"></i> </span>
        </div>
    </div>

</div>
